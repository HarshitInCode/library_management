<div class="containers" [class.sign-up-mode]="isSignUpMode">
  <div class="forms-containers">
    <div class="signin-signup">
      <!-- Sign In Form -->
      <form [formGroup]="signInForm" (ngSubmit)="signInForm.valid && signIn()" class="sign-in-form">
        <h2 class="title">Sign in</h2>
        <div class="input-field">
          <i class="fas fa-user icons"></i>
          <input type="email" formControlName="email" placeholder="Email" />
          <div class="validation" *ngIf="
                                  signInForm.get('email')?.invalid &&
                                  (signInForm.get('email')?.dirty ||
                                    signInForm.get('email')?.touched)
                                ">
            <div *ngIf="signInForm.get('email')?.hasError('required')">
              Email is required
            </div>
          </div>
        </div>
        <div class="input-field">
          <i class="fas fa-lock icons"></i>
          <input type="password" formControlName="password" placeholder="Password" [type]="showPassword ? 'text' : 'password'" />
          <div class="validation" *ngIf="
                                  signInForm.get('password')?.invalid &&
                                  (signInForm.get('password')?.dirty ||
                                    signInForm.get('password')?.touched)
                                ">
            <div *ngIf="signInForm.get('password')?.hasError('required')">
              Password is required
            </div>
          </div>
          <a (click)="togglePasswordVisibility()" class="password-toggle-icon">
            <i class="fas fa-eye icons"></i>
          </a>
          </div>

          <input type="submit" value="Login" class="btn solid" [disabled]="!signInForm.valid" />
      </form>

      <!-- Sign Up Form -->
      <form [formGroup]="signUpForm" (ngSubmit)="signUpForm.valid && signUp()" class="sign-up-form">
        <h2 class="title">Sign up</h2>

        <div class="input-field">
          <i class="fas fa-user icons"></i>
          <input type="text" formControlName="fName" placeholder="Full Name" />
          <div class="validation" *ngIf="
                                  signUpForm.get('fName')?.invalid &&
                                  (signUpForm.get('')?.dirty || signUpForm.get('fName')?.touched)
                                ">
            <div *ngIf="signUpForm.get('fName')?.hasError('required')">
              Full Name is required
            </div>
          </div>
        </div>

        <div class="input-field">
          <i class="fas fa-envelope icons"></i>
          <input type="email" formControlName="email" placeholder="Email" />
          <div class="validation" *ngIf="
                                  signUpForm.get('email')?.invalid &&
                                  (signUpForm.get('email')?.dirty ||
                                    signUpForm.get('email')?.touched)
                                ">
            <div *ngIf="signUpForm.get('email')?.hasError('required')">
              Email is required
            </div>
            <div *ngIf="signUpForm.get('email')?.hasError('email')">
              Invalid email format
            </div>
          </div>
        </div>

        <div class="input-field">
          <i class="fas fa-lock icons"></i>
          <input type="password" formControlName="password" placeholder="Password"
            [type]="showPasswordSignup ? 'text' : 'password'" />
          <div class="validation" *ngIf="
                                  signUpForm.get('password')?.invalid &&
                                  (signUpForm.get('password')?.dirty ||
                                    signUpForm.get('password')?.touched)
                                ">
            <div *ngIf="signUpForm.get('password')?.hasError('required')">
              Password is required
            </div>
          </div>
          <a (click)="togglePasswordVisibilityUp()" class="password-toggle-icon">
            <i class="fas fa-eye icons"></i>
          </a>
        </div>

        <div class="input-field">
          <i class="fas fa-user icons"></i>
          <select class="m-0" id="userRole" formControlName="userRole">
            <option value="" disabled selected>Select Role</option>
            <option value="user">User</option>
            <option value="admin">Admin</option>
          </select>
          <div
            *ngIf="
              signUpForm.get('userRole')?.invalid &&
              (signUpForm.get('userRole')?.dirty ||
                signUpForm.get('userRole')?.touched)
            "
          >
            <div *ngIf="signUpForm.get('userRole')?.hasError('required')">
              User Role is required
            </div>
          </div>
        </div>
        <input type="submit" class="btn" value="Sign up" [disabled]="!signUpForm.valid" />
      </form>
    </div>
  </div>

  <div class="panels-containers">
    <div class="panel left-panel">
      <div class="content">
        <h3>New to our community?</h3>
        <p>
          Discover a world of possibilities! Join us and explore a vibrant
          community where ideas flourish and connections thrive.
        </p>
        <button class="btn transparent" id="sign-up-btn" (click)="toggleMode()">
          Sign up
        </button>
      </div>
      <img src="assets/Images/sign-in.png" class="image" alt="" />
    </div>
    <div class="panel right-panel">
      <div class="content">
        <h3>One of Our Valued Members</h3>
        <p>
          Thank you for being part of our community. Your presence enriches our
          shared experiences. Let's continue this journey together!
        </p>
        <button class="btn transparent" id="sign-in-btn" (click)="toggleMode()">
          Sign in
        </button>
      </div>
      <img src="assets/Images/sign-up.png" class="image" alt="" />
    </div>
  </div>
</div>
